<Window x:Class="SubRed.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:SubRed"
        mc:Ignorable="d"
        Title="MainWindow" Height="Auto" Width="Auto"
        xmlns:vlc="clr-namespace:Vlc.DotNet.Wpf;assembly=Vlc.DotNet.Wpf">
    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="*"/>
            <ColumnDefinition Width="Auto"/>
        </Grid.ColumnDefinitions>
        <Grid Grid.Row="0" Grid.Column="0" Grid.ColumnSpan="2">
            <Menu Height="30" VerticalAlignment="Top">
                <MenuItem Header="Файл">
                    <MenuItem Header="Новый проект" ></MenuItem>
                    <MenuItem Header="Открыть проект"></MenuItem>
                    <Separator />
                    <MenuItem Header="Загрузить субтитры"></MenuItem>
                    <MenuItem Header="Сохранить субтитры"/>
                    <MenuItem Header="Сохранить субтитры как...">
                        <MenuItem Header="В формате SRT" Click="SrtSave_Click"></MenuItem>
                    </MenuItem>
                    <Separator/>
                    <MenuItem Header="Открыть видео"/>
                    <MenuItem Header="Свойства проекта"/>
                    <Separator />
                    <MenuItem Header="Выход" ></MenuItem>
                </MenuItem>
                <MenuItem Header="Редактирование">
                    <MenuItem Header="Отменить" ></MenuItem>
                    <MenuItem Header="Вернуть"></MenuItem>
                    <Separator />
                    <MenuItem Header="Вырезать"></MenuItem>
                    <MenuItem Header="Копировать"></MenuItem>
                    <MenuItem Header="Вставить"></MenuItem>
                    <MenuItem Header="Удалить"></MenuItem>
                    <Separator />
                    <MenuItem Header="Найти и заменить"></MenuItem>
                </MenuItem>
                <MenuItem Header="Субтитры" >
                    <MenuItem Header="Стили" ></MenuItem>
                    <MenuItem Header="Эффекты" ></MenuItem>
                    <MenuItem Header="Сместить время на" ></MenuItem>
                    <MenuItem Header="Передать текст в MS Word" ></MenuItem>
                    <MenuItem Header="Перенумеровать" ></MenuItem>
                    <MenuItem Header="Отсортировать время и перенумеровать" ></MenuItem>
                </MenuItem>
                <MenuItem Header="Автоматизация" >
                    <MenuItem Header="Извлечь встроенные субтитры" Click="ExtractSubsFromFile_Click"></MenuItem>
                    <MenuItem Header="Очистить теги"></MenuItem>
                    <MenuItem Header="Удаление тегов"></MenuItem>
                    <MenuItem Header="Выделить пересечения"></MenuItem>
                    <MenuItem Header="Проверить и исправить"></MenuItem>
                </MenuItem>
                <MenuItem Header="Вид" >
                    <MenuItem Header="Только субтитры"></MenuItem>
                    <MenuItem Header="Видео+субтитры"></MenuItem>
                    <MenuItem Header="Аудиодорожка"></MenuItem>
                </MenuItem>
                <MenuItem Header="Помощь" >
                    <MenuItem Header="О программе" ></MenuItem>
                </MenuItem>
            </Menu>
        </Grid>
        <Grid Grid.Row="1" Grid.Column="0" MinHeight="360" MinWidth="480">
            <vlc:VlcControl x:Name="player" />
        </Grid>
        <Grid Grid.Row="1" Grid.RowSpan="3" Grid.Column="1">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="Auto"/>
                <ColumnDefinition Width="Auto"/>
            </Grid.ColumnDefinitions>
            <Grid Grid.Column="0">
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="Auto"/>
                </Grid.RowDefinitions>
                <Grid Grid.Row="0">
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="Auto"/>
                    </Grid.RowDefinitions>
                    <Button Grid.Row="0"/>
                    <Button Grid.Row="1"/>
                    <Button Grid.Row="2"/>
                    <Button Grid.Row="3"/>
                    <Button Grid.Row="4"/>
                </Grid>
                <Grid Grid.Row="1">
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="Auto"/>
                    </Grid.RowDefinitions>
                    <Button Grid.Row="0"/>
                    <Button Grid.Row="1"/>
                    <Button Grid.Row="2"/>
                    <Button Grid.Row="3"/>
                    <Button Grid.Row="4"/>
                    <Button Grid.Row="5"/>
                    <Button Grid.Row="6"/>
                    <Button Grid.Row="7"/>
                    <Button Grid.Row="8"/>
                </Grid>
                <Grid Grid.Row="2">
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="Auto"/>
                    </Grid.RowDefinitions>
                    <Button Grid.Row="0"/>
                    <Button Grid.Row="1"/>
                </Grid>
            </Grid>
            <TabControl Grid.Column="1">
                <TabItem IsEnabled="False">
                    <TabItem.Template>
                        <ControlTemplate>
                            <Button/>
                        </ControlTemplate>
                    </TabItem.Template>
                </TabItem>
                <TabItem IsSelected="True">
                    <TabItem.Header>
                        <StackPanel Orientation="Horizontal">
                            <TextBlock>Субтитры</TextBlock>
                        </StackPanel>
                    </TabItem.Header>
                    <TabItem.Content>
                        <StackPanel Orientation="Horizontal" Height="100" VerticalAlignment="Top">
                            <Grid>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="Auto"/>
                                    <ColumnDefinition Width="Auto"/>
                                    <ColumnDefinition Width="Auto"/>
                                    <ColumnDefinition Width="Auto"/>
                                </Grid.ColumnDefinitions>
                                <Grid Grid.Column="0">
                                    <Label Content="KEKW"></Label>
                                </Grid>
                                <Grid Grid.Column="1">
                                    <Grid.RowDefinitions>
                                        <RowDefinition Height="Auto"/>
                                        <RowDefinition Height="Auto"/>
                                        <RowDefinition Height="Auto"/>
                                    </Grid.RowDefinitions>
                                    <TextBox Grid.Row="0"/>
                                    <TextBox Grid.Row="1"/>
                                </Grid>
                                <Grid Grid.Column="2">
                                    <TextBlock Width="200" Height="200" Text="KOKW"></TextBlock>
                                </Grid>
                                <Grid Grid.Column="3">
                                    <Grid.RowDefinitions>
                                        <RowDefinition Height="Auto"/>
                                        <RowDefinition Height="Auto"/>
                                        <RowDefinition Height="Auto"/>
                                    </Grid.RowDefinitions>
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="Auto"/>
                                        <ColumnDefinition Width="Auto"/>
                                        <ColumnDefinition Width="Auto"/>
                                        <ColumnDefinition Width="Auto"/>
                                    </Grid.ColumnDefinitions>
                                    <ComboBox Grid.Row="0" Grid.Column="0" Grid.ColumnSpan="4">
                                        <ComboBoxItem Selector.IsSelected="True">
                                            <StackPanel>
                                                <TextBlock>---</TextBlock>
                                            </StackPanel>
                                        </ComboBoxItem>
                                    </ComboBox>
                                    <Label Content="H" Grid.Row="1" Grid.Column="0"/>
                                    <ComboBox Grid.Row="1" Grid.Column="1">
                                        <ComboBoxItem Selector.IsSelected="True">
                                            <StackPanel>
                                                <TextBlock>Центр</TextBlock>
                                            </StackPanel>
                                        </ComboBoxItem>
                                    </ComboBox>
                                    <Label Content="V" Grid.Row="1" Grid.Column="2"/>
                                    <ComboBox Grid.Row="1" Grid.Column="3">
                                        <ComboBoxItem Selector.IsSelected="True">
                                            <StackPanel>
                                                <TextBlock>Низ</TextBlock>
                                            </StackPanel>
                                        </ComboBoxItem>
                                    </ComboBox>
                                    <Label Content="X" Grid.Row="2" Grid.Column="0"/>
                                    <TextBox Grid.Row="2" Grid.Column="1"/>
                                    <Label Content="Y" Grid.Row="2" Grid.Column="2"/>
                                    <TextBox Grid.Row="2" Grid.Column="3"/>
                                </Grid>
                            </Grid>
                        </StackPanel>
                    </TabItem.Content>
                </TabItem>
                <TabItem>
                    <TabItem.Header>
                        <StackPanel Orientation="Horizontal">
                            <TextBlock>Перевод</TextBlock>
                        </StackPanel>
                    </TabItem.Header>
                    <TabItem.Content>
                        <TextBox Height="100" Width="100" Text="KEKW"></TextBox>
                    </TabItem.Content>
                </TabItem>
            </TabControl>
        </Grid>
        <Grid Grid.Row="2" Grid.Column="0">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="Auto"/>
                <ColumnDefinition/>
                <ColumnDefinition Width="Auto"/>
            </Grid.ColumnDefinitions>
            <TextBlock Text="{Binding Value, ElementName=slider, StringFormat=\{0:F0\}}" Margin="5,0" Width="{Binding ActualWidth, ElementName=textBlock, Mode=OneWay}"/>
            <Slider Grid.Column="1" x:Name="slider" Maximum="0.1"
                    Thumb.DragStarted="SliderDragStarted"  Thumb.DragCompleted="slider_DragCompleted" Thumb.DragDelta="slider_DragDelta"/>
            <TextBlock x:Name="textBlock" Grid.Column="2" Text="{Binding Maximum, ElementName=slider, StringFormat=\{0:F0\}}" Margin="5,0"/>
        </Grid>
        <Grid Grid.Row="3" Grid.Column="0">
            <Grid.ColumnDefinitions>
                <ColumnDefinition/>
                <ColumnDefinition/>
                <ColumnDefinition/>
            </Grid.ColumnDefinitions>
            <Button Content="Загрузить" Click="Load_Click"/>
            <Button x:Name="StartPausePlayButton" Content="Пауза/Продолжить" Grid.Column="1" Click="StartPausePlay_Click"/>
            <Button Content="Стоп" Grid.Column="2" Click="Stop_Click"/>
        </Grid>
        <Grid Grid.Row="4" Grid.Column="0" Grid.ColumnSpan="2" MinHeight="100" MaxHeight="200">
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="Auto"/>
            </Grid.RowDefinitions>
            <DataGrid Style="{x:Null}" x:Name="SubtitleGrid" ItemsSource="{Binding Subtitle}" AutoGenerateColumns="False"
                        ScrollViewer.CanContentScroll="True" 
                        ScrollViewer.VerticalScrollBarVisibility="Auto"
                        ScrollViewer.HorizontalScrollBarVisibility="Auto"
                        Grid.Row="0">
                <DataGrid.Resources>
                    <Style TargetType="DataGridRow">
                        <EventSetter Event="MouseDoubleClick" Handler="Row_Click"/>
                    </Style>
                </DataGrid.Resources>
                <DataGrid.Columns>
                    <DataGridTextColumn Header="Id" Binding="{Binding id}" Width="60"  FontFamily="Tahoma"></DataGridTextColumn>
                    <DataGridTextColumn Header="Begin" Binding="{Binding start}" Width="60"  FontFamily="Tahoma"></DataGridTextColumn>
                    <DataGridTextColumn Header="End" Binding="{Binding end}" Width="60"  FontFamily="Tahoma"></DataGridTextColumn>
                    <DataGridTextColumn Header="Duration" Binding="{Binding duration}" Width="60"  FontFamily="Tahoma"></DataGridTextColumn>
                    <DataGridTextColumn Header="FrameBeginNum" Binding="{Binding frameBeginNum}" Width="60"  FontFamily="Tahoma"></DataGridTextColumn>
                    <DataGridTextColumn Header="FrameEndNum" Binding="{Binding frameEndNum}" Width="60"  FontFamily="Tahoma"></DataGridTextColumn>
                    <DataGridTextColumn Header="xCoord" Binding="{Binding xCoord}" Width="60"  FontFamily="Tahoma"></DataGridTextColumn>
                    <DataGridTextColumn Header="yCoord" Binding="{Binding yCoord}" Width="60"  FontFamily="Tahoma"></DataGridTextColumn>
                    <DataGridTextColumn Header="Text" Binding="{Binding text}" Width="Auto" MinWidth="200"  FontFamily="Tahoma">
                        <DataGridTextColumn.ElementStyle>
                            <Style TargetType="TextBlock">
                                <Setter Property="TextWrapping" Value="Wrap"></Setter>
                            </Style>
                        </DataGridTextColumn.ElementStyle>
                    </DataGridTextColumn>
                </DataGrid.Columns>
            </DataGrid>
        </Grid>
    </Grid>
</Window>
